{"version":3,"sources":["webpack:///webpack/universalModuleDefinition?5ca6","webpack:///./lib/features/zoom/index.js?280e","webpack:///./lib/features/zoom/Zoom.js?59c3","webpack:///./lib/InteractiveViewer.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;;;;;;;;;;;;;ACVA;AACA;AACA;AACA,G;;;;;;;ACHA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW,OAAO;AAClB,YAAW,OAAO;AAClB,YAAW,UAAU;AACrB;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,G;;;;;;;AC5EA;;AAEA;;AAEA;;;AAGA;AACA;AACA;AACA,YAAW,OAAO;AAClB;AACA;AACA;AACA;;AAEA;;AAEA,mBAAkB;;AAElB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,G","file":"D3P.InteractiveViewer.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"D3P\"] = factory();\n\telse\n\t\troot[\"D3P\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","module.exports = {\r\n  __init__: [ 'zoom' ],\r\n  zoom: [ 'type', require('./Zoom') ]\r\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/features/zoom/index.js\n// module id = 436\n// module chunks = 0 1","'use strict';\r\n\r\nvar d3 = require('d3'),\r\n  isUndefined = require('lodash/lang').isUndefined,\r\n  _isZoomable = false,\r\n  _zoom = null\r\n  ;\r\n\r\n/**\r\n * The zoom functionality.\r\n *\r\n * @class\r\n * @constructor\r\n *\r\n * @param {Object} options\r\n * @param {Canvas} canvas\r\n * @param {GridLines} gridLines\r\n */\r\nfunction Zoom(options, canvas, eventBus) {\r\n  this._canvas = canvas;\r\n  this._eventBus = eventBus;\r\n\r\n  init.apply(this, [options.translateX, options.translateY, options.scale]);\r\n\r\n  this.setZoomable(!!options.isZoomable);\r\n  this.setZoom(options.translateX, options.translateY, options.scale, options.scale);\r\n}\r\n\r\nZoom.$inject = [ 'd3polytree.options', 'canvas', 'eventBus' ];\r\n\r\nmodule.exports = Zoom;\r\n\r\nZoom.prototype.setZoom = function(translateX, translateY, scale){\r\n  if (_isZoomable === true) {\r\n\r\n    var currentTransform = this._canvas.getTransform();\r\n\r\n    translateX = !isUndefined(translateX) ? translateX : currentTransform.e;\r\n\r\n    translateY = !isUndefined(translateY) ? translateY : currentTransform.f;\r\n\r\n    scale = !isUndefined(scale) ? scale : currentTransform.a;\r\n\r\n    // apply transform\r\n    this._canvas.getDrawingLayer()\r\n      .attr('transform', 'translate(' + translateX + ', ' + translateY + ') scale(' + scale + ')');\r\n\r\n    this._eventBus.emit('canvas.zoomed');\r\n  }\r\n};\r\n\r\nZoom.prototype.setZoomable = function(isZoomable){\r\n  _isZoomable = isZoomable;\r\n};\r\n\r\nvar init = function(tX, tY, s){\r\n  var drawingLayer = this._canvas.getDrawingLayer();\r\n  var that = this;\r\n  _zoom = d3\r\n    .zoom()\r\n    .scaleExtent([0.1, 15])\r\n    .on('zoom', function(){\r\n      if (!_isZoomable) return true;\r\n      // on zoom event\r\n      var trans = d3.event.transform;\r\n      that.setZoom(trans.x, trans.y, trans.k);\r\n    });\r\n\r\n  drawingLayer = drawingLayer\r\n    .call(_zoom)\r\n    .call(_zoom.transform, d3.zoomIdentity\r\n      .translate(tX, tY)\r\n      .scale(s))\r\n    .append('g');\r\n\r\n  this._canvas.setDrawingLayer(drawingLayer);\r\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/features/zoom/Zoom.js\n// module id = 437\n// module chunks = 0 1","'use strict';\r\n\r\nvar inherits = require('inherits');\r\n\r\nvar Viewer = require('./Viewer').Viewer;\r\n\r\n\r\n/**\r\n * A viewer that includes user interactions\r\n *\r\n * @param {Object} options\r\n */\r\nfunction InteractiveViewer(options) {\r\n  Viewer.call(this, options);\r\n}\r\n\r\ninherits(InteractiveViewer, Viewer);\r\n\r\nmodule.exports = {InteractiveViewer: InteractiveViewer};\r\n\r\nInteractiveViewer.prototype._interactionModules = [\r\n  require('./features/zoom'),\r\n  //require('./features/tooltip')\r\n];\r\n\r\nInteractiveViewer.prototype._modules = [].concat(\r\n  InteractiveViewer.prototype._modules,\r\n  InteractiveViewer.prototype._interactionModules\r\n);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./lib/InteractiveViewer.js\n// module id = 438\n// module chunks = 1"],"sourceRoot":""}